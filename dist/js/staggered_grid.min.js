"use strict";const grid_utils={required_arg:function e(t=void 0){t=new Error(`Required argument missing (${t})`);throw Error.captureStackTrace(t,e),t},debounce:function(r,s,n){let d;return function(){const e=this,t=arguments;var i=n&&!d;clearTimeout(d),d=setTimeout(function(){d=null,n||r.apply(e,t)},s),i&&r.apply(e,t)}}};class GridError extends Error{constructor(e=grid_utils.required_arg("message")){super(e),this.name="GridError"}}class GridConfigError extends Error{constructor(e=grid_utils.required_arg("message")){super(e),this.name="GridConfigError"}}function Grid({grid_element:g=grid_utils.required_arg("grid_element"),mirror_width_container:c=void 0,number_of_cols:u=3,column_width:m=300,gutter:w=20,x_gutter:f=20,use_translate:p=!1,breakpoint:e=1200,set_width:v=!0,set_height:y=!0,full_width:x=!1,full_width_with_outside_gutters:b=!1,animate:k=!1,animate_cols:E=!1,animate_delay:G=0,animate_css_class:q="animate",rtl:$=!1,fixed_width:T=void 0,horizontal_order:C=!1}){if(!new.target)throw new TypeError("Object cannot be created without the new keyword");(x=b?!0:x)&&T&&(console.warn("fixed_width and full_width are set in grid configuration. Only full_width will be used."),T=void 0),(k||E)&&(p?(console.warn("The grid cannot be animated when use_translate === true."),E=k=!1):k=!0);const M=[];let L=void 0;function O(){L=Array(u).fill(0)}function t(e=grid_utils.required_arg("elements")){e.forEach((e,t)=>{var i=e.dataset.width,r=e.dataset.height;if(e.classList.contains("grid-item")){if(!i||!r)throw new GridConfigError("Missing data-width or data-height attribute on grid-item");M.push({element:e,height:void 0,width:void 0,coords:{x:void 0,y:void 0},original_width:i,original_height:r,is_showing:!1})}})}return O(),{add_new_items:t,pack:function({render:i=!0,show_items:r=!1}={render:!0,show_items:!1}){let e=w*(u-1)/u;T&&!1===x&&(m=T/u-e),i&&(x&&(b&&(e+=2*w/u),m=document.documentElement.clientWidth/u-e),v?(g.style.width=`${t=u*m+w*(u-1)}px`,c&&(c.style.width=`${t}px`,c.style.opacity="1")):(g.style.width="",c&&(c.style.width=""))),x&&O();let s=0,n=0;var d,o,t,a=M.length;let l=0,h=0;for(n=0;n<a;n++){const _=M[n];let e=0,t=0;void 0!==_.coords.x&&void 0!==_.coords.y&&void 0!==_.height&&!x||(d=m*(_.original_height/_.original_width),1!==u&&!1===C?[e,t]=(o=void 0,o=Math.min(...L),[L.indexOf(o),o]):1===u&&!1===C&&(t=l),C&&(e=h,h<u-1?h+=1:h=0,t=L[e]),_.coords.y=t,_.coords.x=(m+w)*e,_.height=d,_.width=m,$&&p&&(_.coords.x=-1*_.coords.x),d=_.height+f,t+=d,L[e]=t,l=t,E?_.animate_delay=(G*e).toString()+"ms":k&&(_.animate_delay=s.toString()+"ms",s+=G)),i&&(_.element.style.width=`${_.width}px`,_.element.style.height=`${_.height}px`,p?_.element.style.transform=`translate(${_.coords.x}px, ${_.coords.y}px)`:(_.element.style.top=`${_.coords.y}px`,$?_.element.style.right=`${_.coords.x}px`:_.element.style.left=`${_.coords.x}px`),!1!==_.is_showing&&!r||(k?(_.element.style.animationDelay=_.animate_delay,_.element.classList.add(q)):_.element.style.opacity=1,_.is_showing=!0))}i&&(y?(t=Math.max(...L)-f,g.style.height=`${t}px`):g.style.height="")},update:function({elements:e=grid_utils.required_arg("elements")}){t(e)},breakpoint:e,full_width:x,full_width_with_outside_gutters:b}}function StaggeredGrid({layouts:n=[{number_of_cols:1,column_width:100,gutter:20,x_gutter:20,breakpoint:0,full_width:!0,full_width_with_outside_gutters:!1},{number_of_cols:2,column_width:400,gutter:20,x_gutter:20,breakpoint:900},{number_of_cols:3,column_width:420,gutter:25,x_gutter:25,breakpoint:1350}],grid_id:e="staggered-grid",mirror_width_container_id:t="",set_width:d=!0,set_height:o=!0,min_width_media_queries:a=!0,animate:l=!1,animate_cols:h=!1,animate_delay:_=0,animate_css_class:g="animate",use_translate:c=!1,rtl:u=!1,active:m=!0,horizontal_order:w=!1}){if(!new.target)throw new TypeError("Object cannot be created without the new keyword");const f=[],p=[],v=document.getElementById(e);let y=void 0;t&&(y=document.getElementById(t));let x=!0;if(!v)throw new GridConfigError("No grid element found in the DOM for StaggeredGrid.");!function(){u&&c&&v.classList.add("staggered-grid-rtl"),window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(h=l=!1);var t=Array.from(v.children);for(let e=0;e<n.length;e++){var i=n[e],r={grid_element:v,mirror_width_container:y,set_width:d,set_height:o,animate:l,animate_cols:h,animate_delay:_,animate_css_class:g,use_translate:c,rtl:u,horizontal_order:w};const s=new Grid(r=Object.assign(r,i));s.add_new_items(t),function(e=grid_utils.required_arg(e)){let t="max-width";a&&(t="min-width");const i=window.matchMedia(`(${t}: ${e.breakpoint}px)`);i.addListener(E),p.push(i),f.push(e)}(s)}}();const b=grid_utils.debounce(()=>{E()},80);let k=!1;function E({render:t=!0,elements:i=void 0}={render:!0,elements:void 0}){!1===m&&(t=!1);var r=function(){let t=void 0;const i=[];for(let e=0;e<p.length;e++){const r=p[e];r.matches&&(t=r.media.split(":")[1].trim(),t=t.replace(")",""),t=t.replace("px",""),t=parseInt(t),i.push(t))}t=a?Math.max(...i):Math.min(...i);return t}();for(let e=0;e<f.length;e++){const s=f[e];if(s.breakpoint===r){(s.full_width||s.full_width_with_outside_gutters)&&!1===k?(window.addEventListener("resize",b,{passive:!0}),k=!0):!1===s.full_width&&!0===k&&(window.removeEventListener("resize",b,{passive:!0}),k=!1),i&&s.update({elements:i}),s.pack({render:t,show_items:x});break}}if(x||i){for(let e=0;e<f.length;e++){const n=f[e];n.breakpoint!==r&&(i&&n.update({elements:i}),n.pack({render:!1}))}x=!1}}return{pack:E,update:function({elements:e=grid_utils.required_arg("elements"),render:t=!0}){e?E({elements:e=!1===Array.isArray(e)?Array.from(e):e,render:t}):console.warn("Trying to update StaggeredGrid with empty elements arg.")},set_active:function(e){m=e},grid_id:e,use_translate:c,set_width:d,set_height:o,min_width_media_queries:a,rtl:u}}class GridCollection{constructor(){this.grids=[],this.active_grid=void 0}check_if_active_grid(){if(!this.active_grid)throw new GridError("No active grid was set for GridCollection.")}check_grid_settings(){var t=this.grids.length;if(1<t){var i=this.grids[0];const s=[];for(let e=1;e<t;e++){var r=this.grids[e];r.grid_id!==i.grid_id&&s.push("grid_id"),r.use_translate!==i.use_translate&&s.push("use_translate"),r.set_width!==i.set_width&&s.push("set_width"),r.set_height!==i.set_height&&s.push("set_height"),r.min_width_media_queries!==i.min_width_media_queries&&s.push("min_width_media_queries"),r.rtl!==i.rtl&&s.push("rtl")}if(0<s.length){let i="The following grid settings do not match in the GridCollection:";for(let t=0;t<s.length;t++){let e="";1<s.length&&(e=","),s.length-1===t&&(e="."),i+=" "+s[t]+e}throw new GridConfigError(i)}}}set_active_grid(t){let i=!1;for(let e=0;e<this.grids.length;e++)this.grids[e]===t&&(i=!0);if(!1===i)throw new GridError("The grid being set as the new active grid does not exist in the grid collection.");this.active_grid=t;for(let e=0;e<this.grids.length;e++)this.grids[e].set_active(!1);this.active_grid.set_active(!0)}push(t){let i=!0;for(let e=0;e<this.grids.length;e++)t===this.grids[e]&&(i=!1);i&&(this.grids.push(t),this.check_grid_settings())}pack(){this.check_if_active_grid(),this.active_grid.pack();for(let e=0;e<this.grids.length;e++){const t=this.grids[e];t!==this.active_grid&&t.pack()}}update(t){if(t){this.check_if_active_grid(),this.active_grid.update({elements:t,render:!0});for(let e=0;e<this.grids.length;e++){const i=this.grids[e];i!==this.active_grid&&i.update({elements:t,render:!1})}}else console.warn("Trying to update with empty elements arg.")}}