"use strict";const grid_utils={required_arg:function e(t){const i=new Error(`Required argument missing (${t})`);throw Error.captureStackTrace(i,e),i},debounce:function(e,t,i){let r;return function(){const s=this,n=arguments,d=function(){r=null,i||e.apply(s,n)},o=i&&!r;clearTimeout(r),r=setTimeout(d,t),o&&e.apply(s,n)}}};class GridError extends Error{constructor(e=grid_utils.required_arg("message")){super(e),this.name="GridError"}}class GridConfigError extends Error{constructor(e=grid_utils.required_arg("message")){super(e),this.name="GridConfigError"}}function Grid({grid_element:e=grid_utils.required_arg("grid_element"),number_of_cols:t=3,column_width:i=300,gutter:r=20,x_gutter:s=20,use_translate:n=!1,breakpoint:d=1200,set_width:o=!0,set_height:a=!0,full_width:l=!1,full_width_with_outside_gutters:h=!1,animate:c=!1,animate_cols:_=!1,animate_delay:g=0,animate_css_class:u="animate",rtl:m=!1,fixed_width:w,horizontal_order:f=!1}){if(!new.target)throw new TypeError("Object cannot be created without the new keyword");if(h&&(l=!0),l&&w){const e="fixed_width and full_width are set in grid configuration. Only full_width will be used.";console.warn(e),w=void 0}(c||_)&&(n?(console.warn("The grid cannot be animated when use_translate === true."),c=!1,_=!1):c=!0);const p=[];let y=void 0;function v(){y=Array(t).fill(0)}function x(e=grid_utils.required_arg("elements")){e.forEach((e,t)=>{const i=e.dataset.width,r=e.dataset.height;if(e.classList.contains("grid-item")){const t="Missing data-width or data-height attribute on grid-item";if(!i||!r)throw new GridConfigError(t);p.push({element:e,height:void 0,width:void 0,coords:{x:void 0,y:void 0},original_width:i,original_height:r,is_showing:!1})}})}function k(){const e=Math.min(...y);return[y.indexOf(e),e]}return v(),{add_new_items:x,pack:function({render:d=!0,show_items:x=!1}={render:!0,show_items:!1}){let b=r*(t-1)/t;if(w&&!1===l&&(i=w/t-b),d)if(l&&(h&&(b+=2*r/t),i=document.documentElement.clientWidth/t-b),o){const s=t*i+r*(t-1);e.style.width=s+"px"}else e.style.width="";l&&v();let E=0,G=0;const q=p.length;let T=0,C=0;for(G=0;G<q;G++){const e=p[G];let o=0,a=0;if(void 0===e.coords.x||void 0===e.coords.y||void 0===e.height||l){const d=i*(e.original_height/e.original_width);1!==t&&!1===f?[o,a]=k():1===t&&!1===f&&(a=T),f&&(o=C,C<t-1?C+=1:C=0,a=y[o]),e.coords.y=a,e.coords.x=(i+r)*o,e.height=d,e.width=i,m&&n&&(e.coords.x=-1*e.coords.x),a+=e.height+s,y[o]=a,T=a,_?e.animate_delay=(g*o).toString()+"ms":c&&(e.animate_delay=E.toString()+"ms",E+=g)}d&&(e.element.style.width=e.width+"px",e.element.style.height=e.height+"px",n?e.element.style.transform=`translate(${e.coords.x}px, ${e.coords.y}px)`:(e.element.style.top=e.coords.y+"px",m?e.element.style.right=e.coords.x+"px":e.element.style.left=e.coords.x+"px"),(!1===e.is_showing||x)&&(c?(e.element.style.animationDelay=e.animate_delay,e.element.classList.add(u)):e.element.style.opacity=1,e.is_showing=!0))}if(d)if(a){const t=Math.max(...y)-s;e.style.height=t+"px"}else e.style.height=""},update:function({elements:e=grid_utils.required_arg("elements")}){x(e)},breakpoint:d,full_width:l,full_width_with_outside_gutters:h}}function StaggeredGrid({layouts:e=[{number_of_cols:1,column_width:100,gutter:20,x_gutter:20,breakpoint:0,full_width:!0,full_width_with_outside_gutters:!1},{number_of_cols:2,column_width:400,gutter:20,x_gutter:20,breakpoint:900},{number_of_cols:3,column_width:420,gutter:25,x_gutter:25,breakpoint:1350}],grid_id:t="staggered-grid",set_width:i=!0,set_height:r=!0,min_width_media_queries:s=!0,animate:n=!1,animate_cols:d=!1,animate_delay:o=0,animate_css_class:a="animate",use_translate:l=!1,rtl:h=!1,active:c=!0,horizontal_order:_=!1}){if(!new.target)throw new TypeError("Object cannot be created without the new keyword");const g=[],u=[],m=document.getElementById(t);let w=!0;if(!m)throw new GridConfigError("No grid element found in the DOM for StaggeredGrid.");function f(e=grid_utils.required_arg(e)){let t="max-width";s&&(t="min-width");const i=window.matchMedia(`(${t}: ${e.breakpoint}px)`);i.addEventListener("change",v),u.push(i),g.push(e)}!function(){h&&l&&m.classList.add("staggered-grid-rtl"),window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(n=!1,d=!1);const t=Array.from(m.children);for(let s=0;s<e.length;s++){const c=e[s];let g={grid_element:m,set_width:i,set_height:r,animate:n,animate_cols:d,animate_delay:o,animate_css_class:a,use_translate:l,rtl:h,horizontal_order:_};g=Object.assign(g,c);const u=new Grid(g);u.add_new_items(t),f(u)}}();const p=grid_utils.debounce(()=>{v()},80);let y=!1;function v({render:e=!0,elements:t}={render:!0,elements:void 0}){!1===c&&(e=!1);const i=function(){let e=void 0;const t=[];for(let i=0;i<u.length;i++){const r=u[i];r.matches&&(e=r.media.split(":")[1].trim(),e=e.replace(")",""),e=e.replace("px",""),e=parseInt(e),t.push(e))}e=s?Math.max(...t):Math.min(...t);return e}();for(let r=0;r<g.length;r++){const s=g[r];if(s.breakpoint===i){(s.full_width||s.full_width_with_outside_gutters)&&!1===y?(window.addEventListener("resize",p,{passive:!0}),y=!0):!1===s.full_width&&!0===y&&(window.removeEventListener("resize",p,{passive:!0}),y=!1),t?(s.update({elements:t}),s.pack({render:e,show_items:w})):s.pack({render:e,show_items:w});break}}if(w||t){for(let e=0;e<g.length;e++){const r=g[e];r.breakpoint!==i&&(t&&r.update({elements:t}),r.pack({render:!1}))}w=!1}}return{pack:v,update:function({elements:e=grid_utils.required_arg("elements"),render:t=!0}){e?(!1===Array.isArray(e)&&(e=Array.from(e)),v({elements:e,render:t})):console.warn("Trying to update StaggeredGrid with empty elements arg.")},set_active:function(e){c=e},grid_id:t,use_translate:l,set_width:i,set_height:r,min_width_media_queries:s,rtl:h}}class GridCollection{constructor(){this.grids=[],this.active_grid=void 0}check_if_active_grid(){if(!this.active_grid)throw new GridError("No active grid was set for GridCollection.")}check_grid_settings(){const e=this.grids.length;if(e>1){const t=this.grids[0],i=[];for(let r=1;r<e;r++){const e=this.grids[r];e.grid_id!==t.grid_id&&i.push("grid_id"),e.use_translate!==t.use_translate&&i.push("use_translate"),e.set_width!==t.set_width&&i.push("set_width"),e.set_height!==t.set_height&&i.push("set_height"),e.min_width_media_queries!==t.min_width_media_queries&&i.push("min_width_media_queries"),e.rtl!==t.rtl&&i.push("rtl")}if(i.length>0){let e="The following grid settings do not match in the GridCollection:";for(let t=0;t<i.length;t++){let r="";i.length>1&&(r=","),i.length-1===t&&(r="."),e+=" "+i[t]+r}throw new GridConfigError(e)}}}set_active_grid(e){let t=!1;for(let i=0;i<this.grids.length;i++){this.grids[i]===e&&(t=!0)}if(!1===t)throw new GridError("The grid being set as the new active grid does not exist in the grid collection.");this.active_grid=e;for(let e=0;e<this.grids.length;e++)this.grids[e].set_active(!1);this.active_grid.set_active(!0)}push(e){let t=!0;for(let i=0;i<this.grids.length;i++){e===this.grids[i]&&(t=!1)}t&&(this.grids.push(e),this.check_grid_settings())}pack(){this.check_if_active_grid(),this.active_grid.pack();for(let e=0;e<this.grids.length;e++){const t=this.grids[e];t!==this.active_grid&&t.pack()}}update(e){if(e){this.check_if_active_grid(),this.active_grid.update({elements:e,render:!0});for(let t=0;t<this.grids.length;t++){const i=this.grids[t];i!==this.active_grid&&i.update({elements:e,render:!1})}}else console.warn("Trying to update with empty elements arg.")}}